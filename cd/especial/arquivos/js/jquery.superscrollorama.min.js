(function(a){a.superscrollorama=function(j){var c=this;var e={isVertical:true};c.settings=a.extend({},e,j);var b=[],d=[],i=false,g=new TimelineLite();function h(){a("html, body").animate({scrollTop:0},0);
a(window).scroll(function(){i=true;});(function k(){if(i){f();i=false;}setTimeout(k,100);}());}function f(){var s=c.settings.isVertical?a(window).scrollTop():a(window).scrollLeft();
var k=c.settings.isVertical?-a(window).height()/2:-a(window).width()/2;var p,l,t;var v=b.length;for(p=0;p<v;p++){var n=b[p],r=n.target,o=n.offset;if(typeof(r)==="string"){l=c.settings.isVertical?a(r).offset().top:a(r).offset().left;
o+=k;}else{if(typeof(r)==="number"){l=r;}else{l=c.settings.isVertical?r.offset().top:r.offset().left;o+=k;}}l+=o;t=n.dur?l+n.dur:l;if((s>l&&s<t)&&n.state!=="TWEENING"){n.state="TWEENING";
n.start=l;n.end=t;n.tween.progress((s-n.start)/(n.end-n.start)).pause();}else{if(s<l&&n.state!=="BEFORE"){n.tween.reverse();n.state="BEFORE";}else{if(s>t&&n.state!=="AFTER"){n.tween.play();
n.state="AFTER";}else{if(n.state==="TWEENING"){n.tween.progress((s-n.start)/(n.end-n.start)).pause();}}}}}var u=d.length;for(p=0;p<u;p++){var w=d[p];var m=w.el;
var q=m.outerHeight();if(w.state!="PINNED"){l=w.spacer?c.settings.isVertical?w.spacer.offset().top:w.spacer.offset().left:c.settings.isVertical?m.offset().top:m.offset().left;
l+=w.offset;t=l+w.dur;if(s>l&&s<t){w.state="PINNED";w.origPositionVal=c.settings.isVertical?m.css("top"):m.css("left");if(w.origPositionVal==="auto"){w.origPositionVal=0;
}else{w.origPositionVal=parseInt(w.origPositionVal,10);}m.css("position","fixed");if(c.settings.isVertical){m.css("top",-w.offset);}else{m.css("left",-w.offset);
}w.pinStart=l;w.pinEnd=t;if(w.spacer){w.spacer.css("height",w.dur+q);}if(w.onPin){w.onPin();}}}else{if(s<w.pinStart||s>w.pinEnd){w.state=s<w.pinStart?"BEFORE":"AFTER";
if(w.anim&&w.state==="BEFORE"){w.anim.progress(0);}else{if(w.anim&&w.state==="AFTER"){w.anim.progress(1);}}m.css("position",w.origPosition);if(c.settings.isVertical){m.css("top",w.origPositionVal);
}else{m.css("left",w.origPositionVal);}if(w.spacer){w.spacer.css("height",s<w.pinStart?0:w.dur);}if(w.onUnpin){w.onUnpin();}}else{if(w.anim){w.anim.progress((s-w.pinStart)/(w.pinEnd-w.pinStart));
}}}}}c.addTween=function(m,k,l,n){k.pause();b.push({target:m,tween:k,offset:n||0,dur:l||0,state:"BEFORE"});return c;};c.pin=function(l,k,m){if(typeof(l)==="string"){l=a(l);
}if(m.anim){m.anim.pause();}var n=null;if(l.css("position")==="relative"||l.css("position")==="static"){n=a('<div class="pin-spacer"></div>');l.before(n);
}d.push({el:l,state:"BEFORE",dur:k,offset:m.offset||0,anim:m.anim,origPosition:l.css("position"),spacer:n,onPin:m.onPin,onUnpin:m.onUnpin});return c;};
h();return c;};})(jQuery);